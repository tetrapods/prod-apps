{"version":9,"general":{"name":"CloseAndTakeNext","author":"sandy@chatbox.com","created":"Thu Jan 23 2020","inviteMessageList":[""],"initiallyHidden":false,"sortOrder":0,"defaultHeight":0},"platform":{"id":18,"apiId":"closeandtakenext","active":true,"build":1,"builder":{"editCount":0},"tagList":[],"trashed":false,"scope":7,"permissionType":"everyone","groups":[]},"displayList":[{"id":"PANE_1","allowDismiss":false,"elementList":[{"id":"next","initiallyEnabled":true,"initiallyVisible":true,"innerStyles":{"backgroundColor":"#598EC7","borderColor":"#333","color":"#FFFFFF","labelClass":"","textAlign":"center","backgroundImage":"","fontStyle":"normal","borderRadius":"3px","borderWidth":"0px","width":"100%","fontSize":"14px","elementClass":"","borderStyle":"solid","fontWeight":"normal"},"outerStyles":{"marginRight":"0","paddingBottom":"0","paddingRight":"0","width":"100%","paddingTop":"0","paddingLeft":"0","marginTop":"0","marginLeft":"0"},"tooltip":"","detail":{"buttonClass":"InteractiveButton","label":"Close and Take Next","agentCanEdit":true,"customerCanEdit":false,"agentMasked":false,"required":false,"elementValidation":{"required":false,"requiredErrorMessage":"This is required","validateMinLength":false,"minLength":0,"minLengthErrorMessage":"This field requires at least {$count} characters.","validateMaxLength":false,"saveWhenMinLengthIsMet":false,"maxLength":0,"maxLengthErrorMessage":"This field does not accept more than {$count} characters.","validateRegex":false,"regex":"","regexErrorMessage":"","validateSnippet":false,"snippet":""},"type":"button"},"actionList":[],"nested":false,"since":0}],"innerStyles":{"backgroundColor":"rgba(255, 255, 255, 1)","borderColor":"#333","borderRadius":"0px","color":"#333333","textAlign":"left","backgroundImage":"","borderWidth":"0px","fontSize":"13px","borderStyle":"solid","fontStyle":"normal","fontWeight":"normal"},"validation":{"asYouGo":true,"usingSnippet":false,"errorMessage":"Please see errors above before continuing.","snippet":""}}],"externalDataList":[],"header":{"id":"cb_header","innerStyles":{"backgroundColor":"rgba(255, 255, 255, 1)","borderColor":"rgba(221, 221, 221, 1)","borderRadius":"0px","color":"#333333","textAlign":"left","backgroundImage":"","borderWidth":"0px 0px 1px 0px","fontSize":"13px","borderStyle":"solid","fontStyle":"normal","fontWeight":"normal"},"elementList":[],"allPanes":true,"onlyPanes":[]},"footer":{"id":"cb_footer","innerStyles":{"backgroundColor":"rgba(255, 255, 255, 1)","borderColor":"rgba(221, 221, 221, 1)","borderRadius":"0px","color":"#333333","textAlign":"left","backgroundImage":"","borderWidth":"1px 0px 0px 0px","fontSize":"13px","borderStyle":"solid","fontStyle":"normal","fontWeight":"normal"},"elementList":[],"allPanes":true,"onlyPanes":[]},"snippetList":[{"eventTrigger":"callback","snippetCode":"var data = json(returnData);\n\nif (data && data.length > 0) {\n   chatbox.api.conversations.updateMembership(\n      { conversationId:data[0].id },\n      { \n         list:[ {dest: \"GONE\", targetGroup: \"*\"}, { dest: \"CHAT\", targetTeamMemberId: agent.agentId } ],\n         includeSystemMessage:false\n      }\n   )\n} else {\n   console.log(\"No current inbox items for \" + agent.agentId);\n}","eventNameTrigger":"onGetInbox"}],"actionList":[{"snippetCode":"chatbox.api.conversations.updateMembership(\n   {conversationId: store.conversation.id },\n   {list: [{ dest:\"GONE\", targetTeamMemberId:agent.agentId }], includeSystemMessage:false}\n);\n      \n// pull item from inbox\n\nchatbox.api.conversations.getInbox(\n   { teamMemberId:agent.agentId, first:0, max:1, oldestFirst:true },\n   {},\n   { eventName: \"onGetInbox\" }\n);\n","trigger":"always","elementTrigger":"next","enabled":true,"eventTrigger":"valueChanged","type":"actionSnippet"}],"byoCss":""}